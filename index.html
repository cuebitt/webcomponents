<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script
      type="module"
      src="components/webgarden-greenhouse/webgarden-greenhouse.js"
    ></script>
  </head>
  <body>
    <!-- plants='cuebitt,cuebitt,cuebitt,cuebitt' -->
    <webgarden-greenhouse id="garden"></webgarden-greenhouse>
    <button onclick="addNew()">Add new</button>
    <button onclick="addNew(`https://cuebitt.neocities.org/webgarden.html`)">
      Add by URL
    </button>

    <script>
      window.greenhouse_test = "";
      document.getElementById("garden").plants = window.greenhouse_test;

      function addNew(plant) {
        if (!plant) {
          plant = "cuebitt";
        }

        console.log("adding plant: ", plant);

        if (window.greenhouse_test === "") {
          window.greenhouse_test += plant;
        } else {
          window.greenhouse_test += `,${plant}`;
        }
        console.log(window.greenhouse_test);
        document
          .getElementById("garden")
          .setAttribute("plants", window.greenhouse_test);
      }

      window.addNew = addNew;
    </script>
  </body>
</html>
